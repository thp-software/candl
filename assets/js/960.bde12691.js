(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[960],{1960:(t,e,i)=>{"use strict";i.d(e,{h:()=>d,bS:()=>f,IM:()=>o,lr:()=>u,pc:()=>s,z_:()=>a});var s,a,n=i(4353),r=i.n(n);!function(t){t[t.Time1Minute=0]="Time1Minute",t[t.Time5Minutes=1]="Time5Minutes",t[t.Time1Hour=2]="Time1Hour"}(s||(s={})),function(t){t[t.LabelMinute=0]="LabelMinute",t[t.Label5Minutes=1]="Label5Minutes",t[t.Label10Minutes=2]="Label10Minutes",t[t.Label15Minutes=3]="Label15Minutes",t[t.Label20Minutes=4]="Label20Minutes",t[t.Label30Minutes=5]="Label30Minutes",t[t.LabelHour=6]="LabelHour",t[t.Label2Hours=7]="Label2Hours",t[t.Label4Hours=8]="Label4Hours",t[t.Label8Hours=9]="Label8Hours",t[t.Label12Hours=10]="Label12Hours",t[t.LabelDay=11]="LabelDay",t[t.Label2Days=12]="Label2Days",t[t.Label4Days=13]="Label4Days",t[t.Label8Days=14]="Label8Days",t[t.LabelWeek=15]="LabelWeek",t[t.LabelMonth=16]="LabelMonth",t[t.LabelYear=17]="LabelYear"}(a||(a={}));var o;!function(t){t[t.CandleAndShadow=0]="CandleAndShadow",t[t.CandleOnly=1]="CandleOnly",t[t.Line=2]="Line",t[t.MinifiedCandle=3]="MinifiedCandle",t[t.Area=4]="Area"}(o||(o={}));class h{static getTimeFrameMilliseconds(t){switch(t){case s.Time1Minute:return 6e4;case s.Time5Minutes:return 3e5;case s.Time1Hour:return 36e5;default:return 0}}static isDateOfType(t,e){switch(t){case a.LabelMinute:return e.isSame(e.startOf("minute"));case a.Label5Minutes:return e.isSame(e.startOf("minute").subtract(e.minute()%5,"minute"));case a.Label10Minutes:return e.isSame(e.startOf("minute").subtract(e.minute()%10,"minute"));case a.Label15Minutes:return e.isSame(e.startOf("minute").subtract(e.minute()%15,"minute"));case a.Label20Minutes:return e.isSame(e.startOf("minute").subtract(e.minute()%20,"minute"));case a.Label30Minutes:return e.isSame(e.startOf("minute").subtract(e.minute()%30,"minute"));case a.LabelHour:return e.isSame(e.startOf("hour"));case a.Label2Hours:return e.isSame(e.startOf("hour").subtract(e.hour()%2,"hour"));case a.Label4Hours:return e.isSame(e.startOf("hour").subtract(e.hour()%4,"hour"));case a.Label8Hours:return e.isSame(e.startOf("hour").subtract(e.hour()%8,"hour"));case a.LabelDay:return e.isSame(e.startOf("day"));case a.Label2Days:return e.isSame(e.startOf("day").subtract(e.day()%2,"day"));case a.Label4Days:return e.isSame(e.startOf("day").subtract(e.day()%4,"day"));case a.Label8Days:return e.isSame(e.startOf("day").subtract(e.day()%8,"day"));case a.LabelWeek:return e.isSame(e.startOf("week"));case a.LabelMonth:return e.isSame(e.startOf("month"));case a.LabelYear:return e.isSame(e.startOf("year"));default:return!1}}}class l{static getPixelPerfectNumber(t){return t>0&&t<1?1:Math.round(t)}static scale(t,e,i,s,a,n){return s.y-n.y-(t-e)/(i-e)*(s.y-a.y-n.y)}static getFont(t,e,i){return`${t*i}px ${e}`}static getValueWithDensity(t,e){return Math.round(t*e)}}class c{static drawCandle(t,e,i,s,a,n){t.fillStyle=s.o>s.c?a.bearish.color:a.bullish.color,t.fillRect(l.getPixelPerfectNumber(l.getValueWithDensity(e.x,n)),l.getPixelPerfectNumber(e.y),l.getPixelPerfectNumber(l.getValueWithDensity(i.x,n)),l.getPixelPerfectNumber(i.y))}static drawCandleWithShadow(t,e,i,s,a,n,r,o){t.fillStyle=n.o>n.c?r.bearish.shadowColor:r.bullish.shadowColor,t.fillRect(l.getPixelPerfectNumber(l.getValueWithDensity(s.x,o)),l.getPixelPerfectNumber(s.y),l.getPixelPerfectNumber(l.getValueWithDensity(a.x,o)),l.getPixelPerfectNumber(a.y)),t.fillStyle=n.o>n.c?r.bearish.color:r.bullish.color,t.fillRect(l.getPixelPerfectNumber(l.getValueWithDensity(e.x,o)),l.getPixelPerfectNumber(e.y),l.getPixelPerfectNumber(l.getValueWithDensity(i.x,o)),l.getPixelPerfectNumber(i.y))}static drawMinifiedCandle(t,e,i,s,a,n){t.fillStyle=s.o>s.c?a.bearish.shadowColor:a.bullish.shadowColor,t.fillRect(l.getPixelPerfectNumber(l.getValueWithDensity(e.x,n))+.5,l.getPixelPerfectNumber(e.y)+.5,l.getPixelPerfectNumber(l.getValueWithDensity(i.x,n))+.5,l.getPixelPerfectNumber(i.y)+.5)}static drawLineOpen(t,e,i,s){t.moveTo(l.getPixelPerfectNumber(l.getValueWithDensity(e.x,s))+.5,l.getPixelPerfectNumber(e.y)+.5),t.beginPath(),t.strokeStyle=i.color,t.lineWidth=i.thickness,t.lineCap="round",c.drawLineContinue(t,e,s)}static drawLineContinue(t,e,i){t.lineTo(l.getPixelPerfectNumber(l.getValueWithDensity(e.x,i))+.5,l.getPixelPerfectNumber(e.y)+.5)}static drawLineClose(t,e,i,s){c.drawLineContinue(t,e,s),t.stroke(),t.moveTo(l.getPixelPerfectNumber(l.getValueWithDensity(i.x,s))+.5,l.getPixelPerfectNumber(i.y)+.5),t.closePath()}static drawAreaOpen(t,e,i,s){t.moveTo(l.getPixelPerfectNumber(l.getValueWithDensity(e.x,s))+.5,l.getPixelPerfectNumber(e.y)+.5),t.beginPath(),t.strokeStyle=i.line.color,t.lineWidth=i.line.thickness,c.drawLineContinue(t,e,s)}static drawAreaContinue(t,e,i){c.drawLineContinue(t,e,i)}static drawAreaClose(t,e,i,s,a,n,r){c.drawAreaContinue(t,e,r),t.stroke(),t.lineTo(l.getPixelPerfectNumber(l.getValueWithDensity(e.x,r)),l.getPixelPerfectNumber(n)),t.lineWidth=1,t.lineTo(l.getPixelPerfectNumber(l.getValueWithDensity(s,r)),l.getPixelPerfectNumber(n));const o=t.createLinearGradient(0,1e3,0,0);o.addColorStop(1,i.area.topColor),o.addColorStop(0,i.area.bottomColor),t.fillStyle=o,t.fill(),t.stroke(),t.closePath(),t.clearRect(l.getPixelPerfectNumber(l.getValueWithDensity(s,r)),l.getPixelPerfectNumber(n-i.line.thickness),l.getPixelPerfectNumber(l.getValueWithDensity(a-s,r)),l.getPixelPerfectNumber(i.line.thickness)),t.clearRect(l.getPixelPerfectNumber(l.getValueWithDensity(e.x-1,r)),l.getPixelPerfectNumber(e.y),l.getPixelPerfectNumber(l.getValueWithDensity(i.line.thickness+1,r)),l.getPixelPerfectNumber(n))}static drawXGridLine(t,e,i,s,a,n){t.strokeStyle=a,t.lineWidth=s*n,t.beginPath(),t.moveTo(l.getPixelPerfectNumber(l.getValueWithDensity(e.x,n)),0),t.lineTo(l.getPixelPerfectNumber(l.getValueWithDensity(e.x,n)),l.getPixelPerfectNumber(i)),t.stroke()}static drawYGridLine(t,e,i,s,a,n){t.strokeStyle=a,t.lineWidth=s*n,t.beginPath(),t.moveTo(0,l.getPixelPerfectNumber(e.y)),t.lineTo(l.getValueWithDensity(i,n),l.getPixelPerfectNumber(e.y)),t.stroke()}static clearCanvas(t,e){e.clearRect(0,0,t.width,t.height)}static fillRect(t,e,i,s,a){t.fillStyle=s,t.fillRect(l.getValueWithDensity(e.x,a),l.getValueWithDensity(e.y,a),l.getValueWithDensity(i.x,a),l.getValueWithDensity(i.y,a))}static drawHoverInfos(t,e,i,s,a,n,o){var h;const c={x:30*o,y:30*o},d=360,u=235;s.x+c.x+360>=t.width-a&&(c.x=-d-c.x),s.y+c.y+235+20>=t.height-n&&(c.y=-u-c.y),e.fillStyle="#303030bb",e.fillRect(l.getPixelPerfectNumber(s.x+c.x),l.getPixelPerfectNumber(s.y+c.y),l.getPixelPerfectNumber(d),l.getPixelPerfectNumber(u)),e.textAlign="left",e.textBaseline="middle",e.fillStyle="#fff",e.font="24px Consolas",e.fillText(r()(i.t).format("YYYY-MM-DD HH:mm:[00]"),l.getPixelPerfectNumber(s.x+20*o+c.x),l.getPixelPerfectNumber(s.y+30*o+c.y)),e.font="21px Consolas",e.fillText("OPEN  : "+i.o.toFixed(4),l.getPixelPerfectNumber(s.x+20*o+c.x),l.getPixelPerfectNumber(s.y+55*o+c.y)),e.fillText("CLOSE : "+i.c.toFixed(4),l.getPixelPerfectNumber(s.x+20*o+c.x),l.getPixelPerfectNumber(s.y+70*o+c.y)),e.fillText((i.c-i.o>0?"+":"")+(i.c-i.o).toFixed(4),l.getPixelPerfectNumber(s.x+160*o+c.x),l.getPixelPerfectNumber(s.y+62*o+c.y)),e.fillText("HIGH  : "+i.h.toFixed(4),l.getPixelPerfectNumber(s.x+20*o+c.x),l.getPixelPerfectNumber(s.y+95*o+c.y)),e.fillText("LOW   : "+i.l.toFixed(4),l.getPixelPerfectNumber(s.x+20*o+c.x),l.getPixelPerfectNumber(s.y+110*o+c.y)),e.fillText(" "+(i.h-i.l).toFixed(4),l.getPixelPerfectNumber(s.x+160*o+c.x),l.getPixelPerfectNumber(s.y+102*o+c.y)),e.fillText("VOLUME: "+(null===(h=i.v)||void 0===h?void 0:h.toFixed(0)),l.getPixelPerfectNumber(s.x+20*o+c.x),l.getPixelPerfectNumber(s.y+140*o+c.y))}static drawXLabel(t,e,i,s,a){t.textAlign="center",t.textBaseline="top",t.fillStyle=s.fontColor,t.font=l.getFont(s.fontSize,s.font,a),t.fillText(r()(i).format(s.format),l.getPixelPerfectNumber(l.getValueWithDensity(e.x+s.offset.x,a)),l.getPixelPerfectNumber(e.y+s.offset.y))}static drawVolumeBar(t,e,i,s,a,n){t.fillStyle=s?a.bullish.color:a.bearish.color,t.fillRect(l.getPixelPerfectNumber(l.getValueWithDensity(e.x,n)),l.getPixelPerfectNumber(e.y),l.getPixelPerfectNumber(l.getValueWithDensity(i.x,n)),l.getPixelPerfectNumber(i.y))}static drawPriceLine(t,e,i,s,a,n,r){t.beginPath(),t.moveTo(l.getPixelPerfectNumber(e.x),l.getPixelPerfectNumber(e.y)),t.lineTo(l.getPixelPerfectNumber(i.x),l.getPixelPerfectNumber(i.y)),t.strokeStyle=r.color,t.lineWidth=1,t.stroke(),t.fillStyle=r.labelBackgroundColor,t.fillRect(l.getPixelPerfectNumber(s.x),l.getPixelPerfectNumber(s.y),l.getPixelPerfectNumber(a.x),l.getPixelPerfectNumber(a.y)),t.textAlign="left",t.textBaseline="middle",t.fillStyle=r.labelColor,t.font=r.labelFont,t.fillText(n.toFixed(4),l.getPixelPerfectNumber(s.x+5),l.getPixelPerfectNumber(s.y+13))}static drawCross(t,e,i,s){t.setLineDash(e.dotted.value),t.beginPath(),t.moveTo(l.getPixelPerfectNumber(i.x),0),t.lineTo(l.getPixelPerfectNumber(i.x),s.y),t.moveTo(0,l.getPixelPerfectNumber(i.y)),t.lineTo(s.x,l.getPixelPerfectNumber(i.y)),t.strokeStyle=e.color,t.lineWidth=e.width,t.stroke(),t.setLineDash([])}static drawLineCursor(t,e,i,s){t.beginPath(),t.strokeStyle=i.ringColor,t.lineWidth=i.ringThickness*s,t.arc(e.x,e.y,i.radius*s,0,2*Math.PI),t.stroke(),t.fillStyle=i.fillColor,t.fill()}}class d{constructor(t){this.canvasDensity=1.5,this.currentTimeFrame=s.Time1Minute,this.xLabelOptions=[],this.offset={x:0,y:0},this.gridCanvas=null,this.gridCanvasContext=null,this.chartCanvas=null,this.chartCanvasContext=null,this.uiCanvas=null,this.uiCanvasContext=null,this.inputCanvas=null,this.inputCanvasContext=null,this.candleWidth=0,this.candleSpacing=0,this.candleShadowWidth=0,this.firstCandleIndex=0,this.lastCandleIndex=0,this.mouseLocal={x:0,y:0},this.startDrag={x:0,y:0},this.isDragging=!1,this.minValue=0,this.maxValue=0,this.yValues=[],this.hoveredIndex=-1,this.isMouseIn=!1,this.resizeObserver=new ResizeObserver((t=>{for(let e of t)console.log(e.contentRect.width),this.onResize()})),this.container=t,this.series=new Map,this.setupCanvases(this.container),this.options={inputs:{handleInput:!0,zoomAtCursor:!0},timeFrame:s.Time1Minute,show:{cross:!0,lineCursor:!0,priceLine:!0,volume:!0,gridY:!0,gridX:!0,yAxis:!0,xLabels:!0,hover:!0,hoverInfos:!0},general:{backgroundColor:"#000A1D"},commonRender:{initialShadowWidth:2,shadowWidthMin:.5,shadowWidthMax:3,initialWidth:10,initialSpacing:5},candleRender:{bearish:{color:"#EF5F62",shadowColor:"#933b3d"},bullish:{color:"#19AD9F",shadowColor:"#137c71"}},lineRender:{color:"#f0f",thickness:2},areaRender:{line:{color:"#f0f",thickness:1},area:{topColor:"#640064cc",bottomColor:"#00006433"}},volume:{bearish:{color:"#EF5F62a0"},bullish:{color:"#19AD9Fa0"},height:100},grid:{gridMajorX:{color:"#192231a0",thickness:2},gridMinorX:{color:"#192231a0",thickness:1},gridMajorY:{color:"#192231a0",thickness:2}},yAxis:{backgroundColor:"#00102dcc",labelFont:"Arial",labelFontSize:14,labelColor:"#eee",width:120},xAxis:{height:30},priceLine:{color:"#ffffff50",labelBackgroundColor:"#2f599d",labelFont:"Arial",labelFontSize:12,labelColor:"#fff"},cross:{color:"#fff",width:.5,dotted:{value:[7,10]}},lineCursor:{ringColor:"white",fillColor:"#ffffff50",ringThickness:1,radius:10},cursor:{style:"crosshair"}},this.xLabelOptions=[{type:a.LabelMinute,font:"Arial",fontSize:12,fontColor:"#ccc",format:"mm",offset:{x:0,y:0}},{type:a.Label5Minutes,font:"Arial",fontSize:14,fontColor:"#ccc",format:"mm",offset:{x:0,y:0}},{type:a.Label10Minutes,font:"Arial",fontSize:14,fontColor:"#ccc",format:"mm",offset:{x:0,y:0}},{type:a.Label15Minutes,font:"Arial",fontSize:14,fontColor:"#ccc",format:"mm",offset:{x:0,y:0}},{type:a.Label20Minutes,font:"Arial",fontSize:14,fontColor:"#ccc",format:"mm",offset:{x:0,y:0}},{type:a.Label30Minutes,font:"Arial",fontSize:14,fontColor:"#ccc",format:"mm",offset:{x:0,y:0}},{type:a.LabelHour,font:"Arial",fontSize:14,fontColor:"#eee",format:"HH[h]",offset:{x:0,y:0}},{type:a.Label2Hours,font:"Arial",fontSize:14,fontColor:"#eee",format:"HH[h]",offset:{x:0,y:0}},{type:a.Label4Hours,font:"Arial",fontSize:14,fontColor:"#eee",format:"HH[h]",offset:{x:0,y:0}},{type:a.Label8Hours,font:"Arial",fontSize:14,fontColor:"#eee",format:"HH[h]",offset:{x:0,y:0}},{type:a.Label12Hours,font:"Arial",fontSize:14,fontColor:"#eee",format:"HH[h]",offset:{x:0,y:0}},{type:a.LabelDay,font:"Arial",fontSize:14,fontColor:"#fff",format:"DD / MM",offset:{x:0,y:0}},{type:a.Label2Days,font:"Arial",fontSize:14,fontColor:"#fff",format:"DD / MM",offset:{x:0,y:0}},{type:a.Label4Days,font:"Arial",fontSize:14,fontColor:"#fff",format:"DD / MM",offset:{x:0,y:0}},{type:a.Label8Days,font:"Arial",fontSize:14,fontColor:"#fff",format:"DD / MM",offset:{x:0,y:0}},{type:a.LabelWeek,font:"Arial",fontSize:14,fontColor:"#fff",format:"DD / MM",offset:{x:0,y:0}},{type:a.LabelMonth,font:"Arial",fontSize:14,fontColor:"#fff",format:"MM / YYYY",offset:{x:0,y:0}},{type:a.LabelYear,font:"Arial",fontSize:14,fontColor:"#fff",format:"YYYY",offset:{x:0,y:0}}],this.candleViewsStartOffset={x:0,y:10},this.candleViewsEndOffset={x:0,y:10},this.bindEvents(),this.onResize(),this.updateInputCanvas()}bindEvents(){this.inputCanvas&&(this.inputCanvas.addEventListener("mousemove",this.onMouseMove.bind(this)),this.inputCanvas.addEventListener("mousedown",this.onMouseDown.bind(this)),this.inputCanvas.addEventListener("mouseup",this.onMouseUp.bind(this)),this.inputCanvas.addEventListener("wheel",this.onMouseWheel.bind(this),{passive:!0}),this.inputCanvas.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.inputCanvas.addEventListener("touchmove",this.onTouchMove.bind(this)),this.inputCanvas.addEventListener("touchstart",this.onTouchDown.bind(this)),this.inputCanvas.addEventListener("touchend",this.onTouchUp.bind(this)),this.inputCanvas.addEventListener("touchcancel",this.onTouchLeave.bind(this)),this.resizeObserver.observe(this.container),this.inputCanvas.addEventListener("contextmenu",(t=>{t.preventDefault()})))}clean(){var t,e,i,s;this.uiCanvas&&(this.uiCanvas.removeEventListener("mousemove",this.onMouseMove),this.uiCanvas.removeEventListener("mousedown",this.onMouseDown),this.uiCanvas.removeEventListener("mouseup",this.onMouseUp),this.uiCanvas.removeEventListener("wheel",this.onMouseWheel),this.uiCanvas.removeEventListener("mouseleave",this.onMouseLeave),this.uiCanvas.removeEventListener("touchmove",this.onTouchMove.bind(this)),this.uiCanvas.removeEventListener("touchstart",this.onTouchDown.bind(this)),this.uiCanvas.removeEventListener("touchend",this.onTouchUp.bind(this)),this.uiCanvas.removeEventListener("touchcancel",this.onTouchLeave.bind(this)),this.uiCanvas.removeEventListener("contextmenu",(()=>{})),window.removeEventListener("resize",this.onResize),this.resizeObserver.unobserve(this.container)),null===(t=this.gridCanvas)||void 0===t||t.remove(),null===(e=this.chartCanvas)||void 0===e||e.remove(),null===(i=this.uiCanvas)||void 0===i||i.remove(),null===(s=this.inputCanvas)||void 0===s||s.remove(),this.series.forEach((t=>t.clearData()))}setupCanvases(t){this.gridCanvas=document.createElement("canvas"),this.gridCanvas.style.width="100%",this.gridCanvas.style.height="100%",this.gridCanvas.width=this.gridCanvas.offsetWidth,this.gridCanvas.height=this.gridCanvas.offsetHeight,this.gridCanvas.style.zIndex="1",this.gridCanvas.style.position="absolute",t.appendChild(this.gridCanvas),this.gridCanvasContext=this.gridCanvas.getContext("2d"),this.chartCanvas=document.createElement("canvas"),this.chartCanvas.style.width="100%",this.chartCanvas.style.height="100%",this.chartCanvas.width=this.chartCanvas.offsetWidth,this.chartCanvas.height=this.chartCanvas.offsetHeight,this.chartCanvas.style.zIndex="2",this.chartCanvas.style.position="absolute",t.appendChild(this.chartCanvas),this.chartCanvasContext=this.chartCanvas.getContext("2d"),this.uiCanvas=document.createElement("canvas"),this.uiCanvas.style.width="100%",this.uiCanvas.style.height="100%",this.uiCanvas.width=this.uiCanvas.offsetWidth,this.uiCanvas.height=this.uiCanvas.offsetHeight,this.uiCanvas.style.zIndex="3",this.uiCanvas.style.position="absolute",t.appendChild(this.uiCanvas),this.uiCanvasContext=this.uiCanvas.getContext("2d"),this.inputCanvas=document.createElement("canvas"),this.inputCanvas.style.width="100%",this.inputCanvas.style.height="100%",this.inputCanvas.width=this.inputCanvas.offsetWidth,this.inputCanvas.height=this.inputCanvas.offsetHeight,this.inputCanvas.style.zIndex="4",this.inputCanvas.style.position="absolute",t.appendChild(this.inputCanvas),this.inputCanvasContext=this.inputCanvas.getContext("2d")}getActiveSerie(){return this.series.get(this.currentTimeFrame)}getSerie(t){return this.series.get(t)}addSerie(t,e){this.series.set(t,e)}removeSerie(t){this.series.delete(t)}setActiveTimeFrame(t){this.currentTimeFrame=t}getActiveTimeFrame(){return this.currentTimeFrame}getOffset(){return this.offset}setOffset(t){this.offset={x:l.getPixelPerfectNumber(t.x),y:l.getPixelPerfectNumber(t.y)}}update(){this.commonUpdate(),this.updateGridCanvas(),this.updateChartCanvas(),this.updateUiCanvas()}updateGridCanvas(){this.gridCanvas&&this.gridCanvasContext&&(c.clearCanvas(this.gridCanvas,this.gridCanvasContext),c.fillRect(this.gridCanvasContext,{x:0,y:0},{x:this.gridCanvas.width,y:this.gridCanvas.height},this.options.general.backgroundColor,this.canvasDensity),this.options.show.gridX&&this.updateGridX(),this.options.show.gridY&&this.updateGridY())}updateChartCanvas(){this.chartCanvas&&this.chartCanvasContext&&(c.clearCanvas(this.chartCanvas,this.chartCanvasContext),this.updateChart(),this.updateXLabels(),this.updateVolumes())}updateUiCanvas(){const t=this.series.get(this.currentTimeFrame);this.uiCanvas&&this.uiCanvasContext&&t&&(c.clearCanvas(this.uiCanvas,this.uiCanvasContext),t.getActiveView().renderMode!==o.Line&&t.getActiveView().renderMode!==o.Area||this.updateLineCursor(),this.options.show.yAxis&&this.updateYAxis(),this.options.show.priceLine&&this.updatePriceLine(),this.options.show.cross&&this.updateCross(),this.options.show.hoverInfos&&this.hoveredIndex>=0&&this.hoveredIndex<t.getDataCount()&&c.drawHoverInfos(this.uiCanvas,this.uiCanvasContext,t.getDataByIndex(this.hoveredIndex),this.mouseLocal,this.options.yAxis.width,this.options.xAxis.height,this.canvasDensity)),this.uiCanvas&&this.uiCanvasContext&&t&&(this.uiCanvasContext.fillStyle="red")}updateInputCanvas(){this.inputCanvas&&(this.inputCanvas.style.cursor=this.options.cursor.style)}forceUpdate(){this.update()}commonUpdate(){if(this.gridCanvas){const t=this.series.get(this.currentTimeFrame);if(t){this.candleWidth=this.options.commonRender.initialWidth*t.getActiveView().zoomFactor,this.candleSpacing=this.options.commonRender.initialSpacing*t.getActiveView().zoomFactor,this.candleShadowWidth=this.options.commonRender.initialShadowWidth*t.getActiveView().zoomFactor,this.candleShadowWidth=Math.max(this.candleShadowWidth,this.options.commonRender.shadowWidthMin),this.candleShadowWidth=Math.min(this.candleShadowWidth,this.options.commonRender.shadowWidthMax),this.firstCandleIndex=Math.floor(this.offset.x/(this.candleWidth+this.candleSpacing)),this.lastCandleIndex=Math.floor(this.offset.x/(this.candleWidth+this.candleSpacing)+this.gridCanvas.width/this.canvasDensity/(this.candleWidth+this.candleSpacing)+200),this.firstCandleIndex<0&&(this.firstCandleIndex=0),this.lastCandleIndex>=t.getDataCount()&&(this.lastCandleIndex=t.getDataCount()-1),this.minValue=1/0,this.maxValue=-1/0;let e=-this.offset;for(let i=this.firstCandleIndex;i<=this.lastCandleIndex;i++)if(!(i<0)){if(i>=t.getDataCount())break;e=-this.offset.x+i*(this.candleWidth+this.candleSpacing),e+this.candleWidth<0||e>this.gridCanvas.width-(this.options.show.yAxis?this.options.yAxis.width*this.canvasDensity:0)||(this.minValue=Math.min(this.minValue,t.getDataByIndex(i).l),this.maxValue=Math.max(this.maxValue,t.getDataByIndex(i).h))}}}}updateGridX(){const t=this.series.get(this.currentTimeFrame);if(this.gridCanvas&&this.gridCanvasContext&&t){const e=Math.round(this.offset.x/(this.candleWidth+this.candleSpacing)),i=Math.round(this.offset.x/(this.candleWidth+this.candleSpacing)+this.gridCanvas.width/(this.candleWidth+this.candleSpacing));for(let s=e;s<i;s++){const e=-this.offset.x+s*(this.candleWidth+this.candleSpacing)+this.candleWidth/2;s%t.getActiveView().gridXMajorSteps==0?(this.gridCanvasContext.strokeStyle=this.options.grid.gridMajorX.color,c.drawXGridLine(this.gridCanvasContext,{x:e,y:0},this.gridCanvas.height,this.options.grid.gridMajorX.thickness,this.options.grid.gridMajorX.color,this.canvasDensity)):s%t.getActiveView().gridXMinorSteps==0&&(this.gridCanvasContext.strokeStyle=this.options.grid.gridMinorX.color,c.drawXGridLine(this.gridCanvasContext,{x:e,y:0},this.gridCanvas.height,this.options.grid.gridMinorX.thickness,this.options.grid.gridMinorX.color,this.canvasDensity))}}}updateGridY(){if(this.gridCanvasContext&&this.gridCanvas){const t=(this.maxValue-this.minValue)/Math.floor(this.gridCanvas.height/this.canvasDensity/100),e=Math.pow(10,Math.floor(Math.log10(t))),i=Math.ceil(t/e)*e,s=Math.floor(this.minValue/i)*i,a=Math.ceil(this.maxValue/i)*i;this.yValues=[];for(let n=s;n<=a;n+=i){const t=this.scaleY(n);this.yValues.push(n),c.drawYGridLine(this.gridCanvasContext,{x:0,y:t},this.gridCanvas.width-this.options.yAxis.width,this.options.grid.gridMajorY.thickness,this.options.grid.gridMajorY.color,this.canvasDensity)}}}updateYAxis(){if(this.uiCanvasContext&&this.uiCanvas){const t=this.uiCanvas.width;this.uiCanvasContext.fillStyle=this.options.yAxis.backgroundColor,this.uiCanvasContext.fillRect(l.getPixelPerfectNumber(t-this.options.yAxis.width),0,l.getPixelPerfectNumber(this.options.yAxis.width),this.uiCanvas.height),this.uiCanvasContext.strokeStyle="#fff",this.uiCanvasContext.lineWidth=1,this.uiCanvasContext.beginPath(),this.uiCanvasContext.moveTo(l.getPixelPerfectNumber(this.uiCanvas.width-this.options.yAxis.width),0),this.uiCanvasContext.lineTo(l.getPixelPerfectNumber(this.uiCanvas.width-this.options.yAxis.width),this.uiCanvas.height),this.uiCanvasContext.stroke(),this.uiCanvasContext.textAlign="left",this.uiCanvasContext.textBaseline="middle",this.uiCanvasContext.fillStyle=this.options.yAxis?this.options.yAxis.labelColor:"#fff",this.uiCanvasContext.font=l.getFont(this.options.yAxis.labelFontSize,this.options.yAxis.labelFont,this.canvasDensity);for(let e=0;e<this.yValues.length;e++){const t=this.scaleY(this.yValues[e]);this.uiCanvasContext.beginPath(),this.uiCanvasContext.moveTo(this.uiCanvas.width-this.options.yAxis.width-5,l.getPixelPerfectNumber(t)),this.uiCanvasContext.lineTo(this.uiCanvas.width-this.options.yAxis.width+5,l.getPixelPerfectNumber(t)),this.uiCanvasContext.stroke(),this.uiCanvasContext.fillText(this.yValues[e].toFixed(4),l.getPixelPerfectNumber(this.uiCanvas.width-this.options.yAxis.width+10),l.getPixelPerfectNumber(t))}}}updateChart(){if(this.chartCanvasContext){const t=this.series.get(this.currentTimeFrame);if(t)for(let e=this.firstCandleIndex;e<=this.lastCandleIndex;e++){const i=-this.offset.x+e*(this.candleWidth+this.candleSpacing),s=this.scaleY(t.getDataByIndex(e).o),a=this.scaleY(t.getDataByIndex(e).c),n=this.scaleY(t.getDataByIndex(e).h),r=this.scaleY(t.getDataByIndex(e).l);if(e===this.firstCandleIndex){if(t.getActiveView().renderMode===o.Line){c.drawLineOpen(this.chartCanvasContext,{x:i+this.candleWidth/2,y:a},this.options.lineRender,this.canvasDensity);continue}if(t.getActiveView().renderMode===o.Area){c.drawAreaOpen(this.chartCanvasContext,{x:i+this.candleWidth/2,y:a},this.options.areaRender,this.canvasDensity);continue}}if(e===this.lastCandleIndex){if(t.getActiveView().renderMode===o.Line){c.drawLineClose(this.chartCanvasContext,{x:i+this.candleWidth/2,y:a},{x:-this.offset.x+this.firstCandleIndex*(this.candleWidth+this.candleSpacing)+this.candleWidth/2,y:a},this.canvasDensity);continue}if(t.getActiveView().renderMode===o.Area){this.chartCanvas&&c.drawAreaClose(this.chartCanvasContext,{x:i+this.candleWidth/2,y:a},this.options.areaRender,-this.offset.x+this.firstCandleIndex*(this.candleWidth+this.candleSpacing),-this.offset.x+this.lastCandleIndex*(this.candleWidth+this.candleSpacing)+this.candleWidth,this.chartCanvas.height,this.canvasDensity);continue}}switch(t.getActiveView().renderMode){case o.CandleAndShadow:c.drawCandleWithShadow(this.chartCanvasContext,{x:i,y:s},{x:this.candleWidth,y:a-s},{x:i+this.candleWidth/2-this.candleShadowWidth/2,y:r},{x:this.candleShadowWidth,y:n-r},t.getDataByIndex(e),this.options.candleRender,this.canvasDensity);break;case o.CandleOnly:c.drawCandle(this.chartCanvasContext,{x:i,y:s},{x:this.candleWidth,y:a-s},t.getDataByIndex(e),this.options.candleRender,this.canvasDensity);break;case o.MinifiedCandle:c.drawMinifiedCandle(this.chartCanvasContext,{x:i,y:r},{x:this.candleWidth/4,y:n-r},t.getDataByIndex(e),this.options.candleRender,this.canvasDensity);break;case o.Line:c.drawLineContinue(this.chartCanvasContext,{x:i+this.candleWidth/2,y:a},this.canvasDensity);break;case o.Area:c.drawAreaContinue(this.chartCanvasContext,{x:i+this.candleWidth/2,y:a},this.canvasDensity)}}}}updateXLabels(){if(this.chartCanvasContext){const t=this.series.get(this.currentTimeFrame);if(t)for(let e=this.firstCandleIndex;e<this.lastCandleIndex;e++){if(e<0)continue;if(e>=t.getDataCount())break;const i=-this.offset.x+e*(this.candleWidth+this.candleSpacing);this.getXLabelText(i,r()(t.getDataByIndex(e).t),t.getDataByIndex(e).t)}}}getXLabelText(t,e,i){const s=this.series.get(this.currentTimeFrame);if(s)for(let a=0;a<s.getActiveView().xLabels.length;a++){const n=s.getActiveView().xLabels[a];if(h.isDateOfType(n,e)&&this.chartCanvas&&this.chartCanvasContext)return void c.drawXLabel(this.chartCanvasContext,{x:t+this.candleWidth/2,y:this.chartCanvas.height-this.options.xAxis.height},i,this.xLabelOptions[n],this.canvasDensity)}}updateVolumes(){if(this.chartCanvasContext&&this.chartCanvas){const t=this.series.get(this.currentTimeFrame);if(t){const e=this.options.volume.height;let i=0;for(let n=this.firstCandleIndex;n<=this.lastCandleIndex;n++){if(n<0)continue;if(n>=t.getDataCount())break;const e=t.getDataByIndex(n).v;e>i&&(i=e)}0===i&&(i=1);const s=t=>(t||1e3)/i*e;let a=-this.offset.x;for(let n=this.firstCandleIndex;n<=this.lastCandleIndex;n++){if(n<0)continue;if(n>=t.getDataCount())break;a=-this.offset.x+n*(this.candleWidth+this.candleSpacing);const e=s(t.getDataByIndex(n).v),i=t.getDataByIndex(n).c>t.getDataByIndex(n).o;c.drawVolumeBar(this.chartCanvasContext,{x:a,y:this.chartCanvas.height-e-this.options.xAxis.height-5},{x:this.candleWidth,y:e},i,this.options.volume,this.canvasDensity)}}}}updatePriceLine(){const t=this.series.get(this.currentTimeFrame);if(this.uiCanvasContext&&this.uiCanvas&&t&&t.getDataCount()>0){const e=t.getDataByIndex(t.getDataCount()-1),i=this.scaleY(e.c);c.drawPriceLine(this.uiCanvasContext,{x:0,y:l.getPixelPerfectNumber(i)},{x:this.uiCanvas.width-this.options.yAxis.width,y:l.getPixelPerfectNumber(i)},{x:this.uiCanvas.width-this.options.yAxis.width+1,y:this.scaleY(t.getDataByIndex(t.getDataCount()-1).c)-12},{x:l.getPixelPerfectNumber(this.options.yAxis.width),y:l.getPixelPerfectNumber(24)},t.getDataByIndex(t.getDataCount()-1).c,this.options.priceLine)}}updateCross(){const t=this.series.get(this.currentTimeFrame);this.uiCanvasContext&&this.uiCanvas&&this.isMouseIn&&t&&c.drawCross(this.uiCanvasContext,this.options.cross,{x:this.hoveredIndex*(this.candleWidth+this.candleSpacing)*this.canvasDensity-this.offset.x*this.canvasDensity+(this.candleWidth+this.candleSpacing)/2,y:this.mouseLocal.y},{x:this.uiCanvas.width-this.options.yAxis.width,y:this.uiCanvas.height-this.options.xAxis.height})}updateLineCursor(){const t=this.series.get(this.currentTimeFrame);t&&this.uiCanvasContext&&this.inputCanvas&&this.hoveredIndex>=0&&this.hoveredIndex<t.getDataCount()&&c.drawLineCursor(this.uiCanvasContext,{x:this.hoveredIndex*(this.candleWidth+this.candleSpacing)*this.canvasDensity-this.offset.x*this.canvasDensity+(this.candleWidth+this.candleSpacing)/2,y:this.scaleY(t.getDataByIndex(this.hoveredIndex).c)},this.options.lineCursor,this.canvasDensity)}scaleY(t){return l.scale(t,this.minValue,this.maxValue,this.getCandleViewSize(),this.candleViewsStartOffset,this.candleViewsEndOffset)*this.canvasDensity}onMouseMove(t){if(this.inputCanvas){this.isMouseIn=!0;const e=this.inputCanvas.getBoundingClientRect();this.mouseLocal={x:t.clientX*this.canvasDensity-e.left*this.canvasDensity,y:t.clientY*this.canvasDensity-e.top*this.canvasDensity};if(this.series.get(this.currentTimeFrame)&&(this.hoveredIndex=Math.floor((this.offset.x+this.mouseLocal.x/this.canvasDensity)/(this.candleWidth+this.candleSpacing))),this.isDragging){const i={x:this.startDrag.x-(t.clientX-e.left),y:this.startDrag.y-(t.clientY-e.top)};i.x=Math.min(i.x,this.getOffsetXLimitRight()),i.x=Math.max(i.x,this.getOffsetXLimitLeft()),this.offset={x:l.getPixelPerfectNumber(i.x),y:l.getPixelPerfectNumber(i.y)},this.update()}else this.updateInputCanvas(),this.updateUiCanvas()}}onMouseDown(t){if(this.inputCanvas){const e=this.inputCanvas.getBoundingClientRect();this.startDrag={x:t.clientX-e.left+this.offset.x,y:t.clientY-e.top+this.offset.y},this.isDragging=!0}}onMouseUp(){this.isDragging=!1}onMouseLeave(){this.isDragging=!1,this.hoveredIndex=-1,this.isMouseIn=!1,this.update()}onMouseWheel(t){const e=this.series.get(this.currentTimeFrame);if(e){const i=this.mouseLocal,s=e.getActiveView().zoomFactor;if(e.setViewIndex(e.getViewIndex()+(t.deltaY<0?1:-1)),e.setViewIndex(Math.min(e.getViewIndex(),e.getViewsCount()-1)),e.setViewIndex(Math.max(e.getViewIndex(),0)),this.options.inputs.zoomAtCursor){const t=e.getActiveView().zoomFactor,a=(i.x/this.canvasDensity+this.offset.x)/s,n=(i.y/this.canvasDensity+this.offset.y)/s,r={x:a*t-i.x/this.canvasDensity,y:n*t-i.y/this.canvasDensity};this.offset={x:l.getPixelPerfectNumber(r.x),y:l.getPixelPerfectNumber(r.y)}}this.update()}}onTouchMove(){}onTouchDown(){}onTouchUp(){}onTouchLeave(){}onResize(){this.gridCanvas&&this.gridCanvasContext&&(this.gridCanvas.width=this.gridCanvas.offsetWidth*this.canvasDensity,this.gridCanvas.height=this.gridCanvas.offsetHeight*this.canvasDensity),this.chartCanvas&&this.chartCanvasContext&&(this.chartCanvas.width=this.chartCanvas.offsetWidth*this.canvasDensity,this.chartCanvas.height=this.chartCanvas.offsetHeight*this.canvasDensity),this.uiCanvas&&this.uiCanvasContext&&(this.uiCanvas.width=this.uiCanvas.offsetWidth*this.canvasDensity,this.uiCanvas.height=this.uiCanvas.offsetHeight*this.canvasDensity),this.inputCanvas&&this.inputCanvasContext&&(this.inputCanvas.width=this.inputCanvas.offsetWidth*this.canvasDensity,this.inputCanvas.height=this.inputCanvas.offsetHeight*this.canvasDensity),this.update()}getLastCandleOffset(){const t=this.series.get(this.currentTimeFrame);if(t&&(0===this.candleWidth&&this.update(),this.gridCanvas)){const e=t.getDataCount()-1;return(this.candleWidth+this.candleSpacing)*e-this.gridCanvas.width/this.canvasDensity+200}return 0}getDrawnCandleCount(){return this.lastCandleIndex-this.firstCandleIndex}getCandleCount(t){const e=this.series.get(t);return e?e.getDataCount():0}getIndexOfHoveredCandle(){return Math.floor(this.offset.x/(this.candleWidth+this.candleSpacing)+this.mouseLocal.x/(this.candleWidth+this.candleSpacing))}getDataOfHoveredCandle(){const t=this.series.get(this.currentTimeFrame);if(t){const e=this.getIndexOfHoveredCandle();if(e>=0&&e<t.getDataCount())return t.getDataByIndex(e)}return null}setHoveredIndex(t){this.hoveredIndex=t}getOffsetXLimitLeft(){const t=this.series.get(this.currentTimeFrame);return t?-200*t.getActiveView().zoomFactor:0}getOffsetXLimitRight(){const t=this.series.get(this.currentTimeFrame);if(this.gridCanvas&&t){const e=t.getDataCount()-1;return(this.candleWidth+this.candleSpacing)*e-(this.gridCanvas.width/this.canvasDensity-200)}return 0}getCandleViewSize(){if(this.chartCanvas){let t=this.chartCanvas.width/this.canvasDensity,e=this.chartCanvas.height/this.canvasDensity;return this.options.show.yAxis&&(t-=this.options.yAxis.width*this.canvasDensity),this.options.show.volume&&(e-=this.options.volume.height*this.canvasDensity),this.options.show.xLabels&&(e-=this.options.xAxis.height*this.canvasDensity),{x:t,y:e}}return{x:0,y:0}}setOptionsGrid(t){this.options.grid={gridMajorX:Object.assign(Object.assign({},this.options.grid.gridMajorX),t.gridMajorX),gridMinorX:Object.assign(Object.assign({},this.options.grid.gridMinorX),t.gridMinorX),gridMajorY:Object.assign(Object.assign({},this.options.grid.gridMajorY),t.gridMajorY)}}setOptionsYAxis(t){this.options.yAxis=Object.assign(Object.assign({},this.options.yAxis),t)}setOptionsXAxisLabels(t){this.options.xAxis=Object.assign(Object.assign({},this.options.xAxis),t)}setOptionsRender(t){this.options.commonRender=Object.assign(Object.assign({},this.options.commonRender),t)}setOptionsCandle(t){this.options.candleRender={bearish:Object.assign(Object.assign({},this.options.candleRender.bearish),t.bearish),bullish:Object.assign(Object.assign({},this.options.candleRender.bullish),t.bullish)}}setOptionsLine(t){this.options.lineRender=Object.assign(Object.assign({},this.options.lineRender),t)}setOptionsArea(t){this.options.areaRender={line:Object.assign(Object.assign({},this.options.areaRender.line),t.line),area:Object.assign(Object.assign({},this.options.areaRender.area),t.area)}}setOptionsPriceLine(t){this.options.priceLine=Object.assign(Object.assign({},this.options.priceLine),t)}setOptionsCross(t){var e,i;this.options.cross=Object.assign(Object.assign(Object.assign({},this.options.cross),t),{dotted:Object.assign(Object.assign(Object.assign({},this.options.cross.dotted),t.dotted),{value:(null===(i=null===(e=t.dotted)||void 0===e?void 0:e.value)||void 0===i?void 0:i.every((t=>void 0!==t)))?t.dotted.value:this.options.cross.dotted.value})})}setOptionsInputs(t){this.options.inputs=Object.assign(Object.assign({},this.options.inputs),t)}setOptionsCursor(t){this.options.cursor=Object.assign(Object.assign({},this.options.cursor),t),this.updateInputCanvas()}setOptionsGeneral(t){this.options.general=Object.assign(Object.assign({},this.options.general),t)}setOptionsShow(t){this.options.show=Object.assign(Object.assign({},this.options.show),t)}setOptions(t){this.options=t}setXLabels(t){for(let e=0;e<t.length;e++){const i=this.xLabelOptions.findIndex((i=>t[e].type===i.type));i&&(this.xLabelOptions[i]=t[e])}}}class u{constructor(t,e){this.data=[],this.views=[],this.viewIndex=0,this.id=t,this.symbol=e||"unknown"}setData(t){this.data=t}appendData(t){this.data=this.data.concat(t)}clearData(){this.data=[]}setLastData(t){this.data.length>0?this.data[this.data.length-1]=t:this.data.push(t)}getLastData(){if(this.data.length>0)return this.data[this.data.length-1]}getDataByIndex(t){return t<0||t>=this.data.length?{t:0,o:0,c:0,h:0,l:0,v:0}:this.data[t]}getDataByTimestamp(t){return this.data.find((e=>e.t===t))}getDataCount(){return this.data.length}setViews(t){this.views=t}getView(t){if(t>=0&&t<this.views.length)return this.views[t]}getViewsCount(){return this.views.length}setActiveView(t){t<0?this.viewIndex=0:t>=this.views.length&&(this.viewIndex=this.views.length-1)}getActiveView(){return 0===this.views.length?{zoomFactor:1,renderMode:o.CandleAndShadow,gridXMinorSteps:20,gridXMajorSteps:60,xLabels:[a.LabelYear,a.LabelMonth,a.LabelDay,a.LabelHour]}:this.viewIndex>=this.views.length?(this.viewIndex=this.views.length-1,this.views[this.viewIndex]):this.views[this.viewIndex]}getViewIndex(){return this.viewIndex}setViewIndex(t){this.viewIndex=t}getId(){return this.id}getSymbol(){return this.symbol}}class f{static generateMockData(t,e){const i=h.getTimeFrameMilliseconds(t),s=[];let a=r()("2024-01-01 00:00:00").valueOf();for(let n=0;n<e;n++){let t;t=s.length>0?s[s.length-1].c:1e3;const e=t+4*Math.random(),n=t-4*Math.random(),r=t+(Math.random()*(e-n)-(e-t)),o=Math.max(t,r)+1*Math.random(),h=Math.min(t,r)-1*Math.random(),l=(8001*Math.random()+2e3)*(2*Math.abs(o-h));s.push({t:a,o:parseFloat(t.toFixed(4)),h:parseFloat(o.toFixed(4)),l:parseFloat(h.toFixed(4)),c:parseFloat(r.toFixed(4)),v:parseFloat(l.toFixed(2))}),a+=i}return s}static generateSameMockForEveryTimeFrame(t){const e=this.generateMockData(s.Time1Minute,t),i=t=>{const i=[];for(let s=0;s<e.length;s+=t){const a=e.slice(s,s+t);if(a.length>0){const t=a[0].o,e=a[a.length-1].c,s=Math.max(...a.map((t=>t.h))),n=Math.min(...a.map((t=>t.l))),r=a.reduce(((t,e)=>t+e.v),0);i.push({t:a[0].t,o:t,h:s,l:n,c:e,v:parseFloat(r.toFixed(2))})}}return i},a=[];for(let n=0;n<Object.keys(s).length/2;n++)a[n]=i(h.getTimeFrameMilliseconds(n)/6e4);return a}static generateMockDataOneByOne(t,e,i){const s=h.getTimeFrameMilliseconds(t);let a;a=i?r()(i.t).add(s,"milliseconds").valueOf():r()("2024-01-01 00:00:00").valueOf();let n,o,l;n=i?i.c:1e3+1*Math.random()*2-1;let c=n,d=c,u=c,f=0;return e?c=n:(o=n+4*Math.random(),l=n-4*Math.random(),c=n+(Math.random()*(o-l)-(o-n)),d=Math.max(n,c)+1*Math.random(),u=Math.min(n,c)-1*Math.random(),f=(9001*Math.random()+1e3)*(2*Math.abs(d-u))),{t:a,o:parseFloat(n.toFixed(4)),h:parseFloat(d.toFixed(4)),l:parseFloat(u.toFixed(4)),c:parseFloat(c.toFixed(4)),v:parseFloat(f.toFixed(2))}}static generateMockCandleTick(t){let e=.5*(Math.random()-.5),i=t.c+e,s=i>t.h?i:t.h,a=i<t.l?i:t.l;const n=t.v+(Math.abs(e)+Math.random())*Math.random()*1e3;return{t:t.t,o:parseFloat(t.o.toFixed(4)),h:parseFloat(s.toFixed(4)),l:parseFloat(a.toFixed(4)),c:parseFloat(i.toFixed(4)),v:parseFloat(n.toFixed(2))}}}},4353:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,i=36e5,s="millisecond",a="second",n="minute",r="hour",o="day",h="week",l="month",c="quarter",d="year",u="date",f="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],i=t%100;return"["+t+(e[(i-20)%10]||e[i]||e[0])+"]"}},C=function(t,e,i){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(i)+t},m={s:C,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),s=Math.floor(i/60),a=i%60;return(e<=0?"+":"-")+C(s,2,"0")+":"+C(a,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var s=12*(i.year()-e.year())+(i.month()-e.month()),a=e.clone().add(s,l),n=i-a<0,r=e.clone().add(s+(n?-1:1),l);return+(-(s+(i-a)/(n?a-r:r-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:d,w:h,d:o,D:u,h:r,m:n,s:a,ms:s,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",p={};p[y]=v;var b="$isDayjsObject",w=function(t){return t instanceof L||!(!t||!t[b])},M=function t(e,i,s){var a;if(!e)return y;if("string"==typeof e){var n=e.toLowerCase();p[n]&&(a=n),i&&(p[n]=i,a=n);var r=e.split("-");if(!a&&r.length>1)return t(r[0])}else{var o=e.name;p[o]=e,a=o}return!s&&a&&(y=a),a||!s&&y},D=function(t,e){if(w(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new L(i)},P=m;P.l=M,P.i=w,P.w=function(t,e){return D(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var L=function(){function v(t){this.$L=M(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[b]=!0}var C=v.prototype;return C.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(P.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(g);if(s){var a=s[2]-1||0,n=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],a,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)):new Date(s[1],a,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)}}return new Date(e)}(t),this.init()},C.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},C.$utils=function(){return P},C.isValid=function(){return!(this.$d.toString()===f)},C.isSame=function(t,e){var i=D(t);return this.startOf(e)<=i&&i<=this.endOf(e)},C.isAfter=function(t,e){return D(t)<this.startOf(e)},C.isBefore=function(t,e){return this.endOf(e)<D(t)},C.$g=function(t,e,i){return P.u(t)?this[e]:this.set(i,t)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(t,e){var i=this,s=!!P.u(e)||e,c=P.p(t),f=function(t,e){var a=P.w(i.$u?Date.UTC(i.$y,e,t):new Date(i.$y,e,t),i);return s?a:a.endOf(o)},g=function(t,e){return P.w(i.toDate()[t].apply(i.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(e)),i)},x=this.$W,v=this.$M,C=this.$D,m="set"+(this.$u?"UTC":"");switch(c){case d:return s?f(1,0):f(31,11);case l:return s?f(1,v):f(0,v+1);case h:var y=this.$locale().weekStart||0,p=(x<y?x+7:x)-y;return f(s?C-p:C+(6-p),v);case o:case u:return g(m+"Hours",0);case r:return g(m+"Minutes",1);case n:return g(m+"Seconds",2);case a:return g(m+"Milliseconds",3);default:return this.clone()}},C.endOf=function(t){return this.startOf(t,!1)},C.$set=function(t,e){var i,h=P.p(t),c="set"+(this.$u?"UTC":""),f=(i={},i[o]=c+"Date",i[u]=c+"Date",i[l]=c+"Month",i[d]=c+"FullYear",i[r]=c+"Hours",i[n]=c+"Minutes",i[a]=c+"Seconds",i[s]=c+"Milliseconds",i)[h],g=h===o?this.$D+(e-this.$W):e;if(h===l||h===d){var x=this.clone().set(u,1);x.$d[f](g),x.init(),this.$d=x.set(u,Math.min(this.$D,x.daysInMonth())).$d}else f&&this.$d[f](g);return this.init(),this},C.set=function(t,e){return this.clone().$set(t,e)},C.get=function(t){return this[P.p(t)]()},C.add=function(s,c){var u,f=this;s=Number(s);var g=P.p(c),x=function(t){var e=D(f);return P.w(e.date(e.date()+Math.round(t*s)),f)};if(g===l)return this.set(l,this.$M+s);if(g===d)return this.set(d,this.$y+s);if(g===o)return x(1);if(g===h)return x(7);var v=(u={},u[n]=e,u[r]=i,u[a]=t,u)[g]||1,C=this.$d.getTime()+s*v;return P.w(C,this)},C.subtract=function(t,e){return this.add(-1*t,e)},C.format=function(t){var e=this,i=this.$locale();if(!this.isValid())return i.invalidDate||f;var s=t||"YYYY-MM-DDTHH:mm:ssZ",a=P.z(this),n=this.$H,r=this.$m,o=this.$M,h=i.weekdays,l=i.months,c=i.meridiem,d=function(t,i,a,n){return t&&(t[i]||t(e,s))||a[i].slice(0,n)},u=function(t){return P.s(n%12||12,t,"0")},g=c||function(t,e,i){var s=t<12?"AM":"PM";return i?s.toLowerCase():s};return s.replace(x,(function(t,s){return s||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return P.s(e.$y,4,"0");case"M":return o+1;case"MM":return P.s(o+1,2,"0");case"MMM":return d(i.monthsShort,o,l,3);case"MMMM":return d(l,o);case"D":return e.$D;case"DD":return P.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(i.weekdaysMin,e.$W,h,2);case"ddd":return d(i.weekdaysShort,e.$W,h,3);case"dddd":return h[e.$W];case"H":return String(n);case"HH":return P.s(n,2,"0");case"h":return u(1);case"hh":return u(2);case"a":return g(n,r,!0);case"A":return g(n,r,!1);case"m":return String(r);case"mm":return P.s(r,2,"0");case"s":return String(e.$s);case"ss":return P.s(e.$s,2,"0");case"SSS":return P.s(e.$ms,3,"0");case"Z":return a}return null}(t)||a.replace(":","")}))},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(s,u,f){var g,x=this,v=P.p(u),C=D(s),m=(C.utcOffset()-this.utcOffset())*e,y=this-C,p=function(){return P.m(x,C)};switch(v){case d:g=p()/12;break;case l:g=p();break;case c:g=p()/3;break;case h:g=(y-m)/6048e5;break;case o:g=(y-m)/864e5;break;case r:g=y/i;break;case n:g=y/e;break;case a:g=y/t;break;default:g=y}return f?g:P.a(g)},C.daysInMonth=function(){return this.endOf(l).$D},C.$locale=function(){return p[this.$L]},C.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),s=M(t,e,!0);return s&&(i.$L=s),i},C.clone=function(){return P.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},v}(),S=L.prototype;return D.prototype=S,[["$ms",s],["$s",a],["$m",n],["$H",r],["$W",o],["$M",l],["$y",d],["$D",u]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),D.extend=function(t,e){return t.$i||(t(e,L,D),t.$i=!0),D},D.locale=M,D.isDayjs=w,D.unix=function(t){return D(1e3*t)},D.en=p[y],D.Ls=p,D.p={},D}()}}]);